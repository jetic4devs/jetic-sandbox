{
  "type" : "BEANS",
  "properties" : {
    "codeGroovy" : "beans {\n    myString = 'Hello World!'\n\n    myProcessor = processor { \n        it.in.body = 'Hello from Groovy'\n    }\n\n    myPredicate = predicate {\n        it.in.body != null\n    }\n}",
    "codeJava" : "@BindToRegistry\npublic Processor reverseGeocode() {\n    return exchange -> {\n\t\t\t  String key = (String)exchange.getProperty(\"googleApiKey\");\n        String lat = String.valueOf(exchange.getProperty(\"geoLat\"));\n        String lng = String.valueOf(exchange.getProperty(\"geoLng\"));\n\n        GeoApiContext context = null;\n        try {\n            context = new GeoApiContext.Builder()\n                .apiKey(key)\n                .build();\n        } catch (Exception e) {\n            System.out.println(\"Failed to generate context from credential \" + e);\n            exchange.getIn().setHeader(\"CamelHttpResponseCode\", 500);\n            exchange.getIn().setBody(e);            \n            return;\n        }\n\n        try {\n            GeocodingResult[] results = GeocodingApi.reverseGeocode(context, new LatLng(Double.parseDouble(lat), Double.parseDouble(lng))).await();\n\n            ObjectMapper mapper = new ObjectMapper();\n            exchange.getIn().setHeader(\"CamelHttpResponseCode\", 200);\n            exchange.getIn().setBody(mapper.writeValueAsString(results));\n        } catch (Exception e) {\n            System.out.println(e);\n            exchange.getIn().setHeader(\"CamelHttpResponseCode\", 500);\n            exchange.getIn().setBody(e);\n        }        \n    };\n}\n\n@BindToRegistry\npublic Processor geocode() {\n    return exchange -> {\n\t\t\t  String key = (String)exchange.getProperty(\"googleApiKey\");\n        String address = (String)exchange.getProperty(\"address\");\n\n        GeoApiContext context = null;\n        try {\n            context = new GeoApiContext.Builder()\n                .apiKey(key)\n                .build();\n        } catch (Exception e) {\n            System.out.println(\"Failed to generate context from credential \" + e);\n            exchange.getIn().setHeader(\"CamelHttpResponseCode\", 500);\n            exchange.getIn().setBody(e);\n            return;\n        }\n\n        try {\n            GeocodingResult[] results = GeocodingApi.geocode(context, address).await();\n\n            ObjectMapper mapper = new ObjectMapper();\n            exchange.getIn().setHeader(\"CamelHttpResponseCode\", 200);\n            exchange.getIn().setBody(mapper.writeValueAsString(results));            \n        } catch (Exception e) {\n            System.out.println(e);\n            exchange.getIn().setHeader(\"CamelHttpResponseCode\", 500);\n            exchange.getIn().setBody(e);\n        }        \n    };\n}",
    "importsJava" : "import org.apache.camel.BindToRegistry;\nimport org.apache.camel.Processor;\nimport org.apache.camel.ExchangeProperty;\n\nimport java.util.*;\nimport java.io.IOException;\n\nimport com.google.maps.GeocodingApi;\nimport com.google.maps.GeoApiContext;\nimport com.google.maps.model.GeocodingResult;\nimport com.google.maps.model.LatLng;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;",
    "type" : "Java"
  },
  "id" : "93641836-b0a1-4025-8d40-6075cfabaade",
  "name" : "GoogleGeocode",
  "description" : "",
  "createdAt" : "2023-10-04T18:05:19.847985853",
  "updatedAt" : "2023-10-04T18:05:19.847987445",
  "createdBy" : "612c1b37-217d-49f9-b344-54b8af760f6a",
  "updatedBy" : "612c1b37-217d-49f9-b344-54b8af760f6a"
}