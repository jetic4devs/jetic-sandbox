{
  "type" : "BEANS",
  "properties" : {
    "codeGroovy" : "beans {\n    myString = 'Hello World!'\n\n    myProcessor = processor { \n        it.in.body = 'Hello from Groovy'\n    }\n\n    myPredicate = predicate {\n        it.in.body != null\n    }\n}",
    "codeJava" : "@BindToRegistry\npublic Processor getGoogleAccessToken() {\n    return exchange -> {\n        URL p12KeyUri;\n\n        try {\n            p12KeyUri = exchange.getContext().getClassResolver().loadResourceAsURL((String)exchange.getProperty(\"p12CredentialsFile\"));\n        } catch (Exception e) {\n            System.out.println(e);\n            return;\n        }\n\n        HttpTransport HTTP_TRANSPORT = new NetHttpTransport();\n        JsonFactory JSON_FACTORY = new JacksonFactory();\n\n        GoogleCredential credential = new GoogleCredential.Builder()\n            .setTransport(HTTP_TRANSPORT)\n            .setJsonFactory(JSON_FACTORY)\n            .setServiceAccountId(\"yakrcl-service-acct-dev@yak-responder-dev-340313.iam.gserviceaccount.com\")\n            .setServiceAccountScopes(Collections.singleton(\"https://www.googleapis.com/auth/cloud-translation\"))\n            .setServiceAccountPrivateKeyFromP12File(new File(p12KeyUri.getPath()))\n            .build();\n\n        credential.refreshToken();\n        exchange.getIn().setHeader(\"Authorization\", \"Bearer \" + credential.getAccessToken());\n    };\n}",
    "importsJava" : "import java.util.*;\nimport java.net.URL;\nimport java.io.IOException;\nimport java.io.FileInputStream;\nimport java.io.File;\n\nimport java.security.GeneralSecurityException;\nimport java.util.Arrays;\n\nimport org.apache.camel.BindToRegistry;\nimport org.apache.camel.Processor;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.apache.commons.codec.binary.Base64;\n\nimport com.google.auth.oauth2.GoogleCredentials;\nimport com.google.cloud.translate.Translate;\nimport com.google.cloud.translate.TranslateOptions;\nimport com.google.cloud.translate.Detection;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleCredential.*;\nimport com.google.api.client.googleapis.auth.oauth2.*;\nimport com.google.api.client.http.javanet.*;\nimport com.google.api.client.http.*;\nimport com.google.api.client.json.jackson2.*;\nimport com.google.api.client.json.*;",
    "type" : "Java"
  },
  "id" : "bcf40958-2b3b-4f51-a285-cf7ea47662da",
  "name" : "GoogleServiceAccount",
  "description" : "Bean for generating authorization token for use with Google APIs",
  "createdAt" : "2023-10-04T18:05:18.921725457",
  "updatedAt" : "2023-10-04T18:05:18.921726746",
  "createdBy" : "612c1b37-217d-49f9-b344-54b8af760f6a",
  "updatedBy" : "612c1b37-217d-49f9-b344-54b8af760f6a"
}